{"remainingRequest":"C:\\Users\\Hanie\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Hanie\\PhpstormProjects\\new-gregorian-to-jalali-converter\\newGregorianToJalaliConverter.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Hanie\\PhpstormProjects\\new-gregorian-to-jalali-converter\\newGregorianToJalaliConverter.vue","mtime":1601193304821},{"path":"C:\\Users\\Hanie\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Hanie\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Hanie\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQppbXBvcnQgVnVlUGVyc2lhbkRhdGV0aW1lUGlja2VyIGZyb20gInZ1ZS1wZXJzaWFuLWRhdGV0aW1lLXBpY2tlciI7DQppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudC1qYWxhYWxpIjsNCg0KY29uc3QgamFsYWxpVG9HcmVnb3JpYW4gPSAocHJkYXRlKSA9Pg0KICBtb21lbnQocHJkYXRlLCAiallZWVkvak0vakQiKS5mb3JtYXQoIllZWVkvTU0vREQiKTsNCg0KY29uc3QgdG9FbmdsaXNoRGlnaXRzID0gKHN0cikgPT4gew0KICB2YXIgcGVyc2lhbk51bWJlcnMgPSBbDQogICAgICAv27AvZywNCiAgICAgIC/bsS9nLA0KICAgICAgL9uyL2csDQogICAgICAv27MvZywNCiAgICAgIC/btC9nLA0KICAgICAgL9u1L2csDQogICAgICAv27YvZywgDQogICAgICAv27cvZywNCiAgICAgIC/buC9nLA0KICAgICAgL9u5L2csDQogICAgXSwNCiAgICBhcmFiaWNOdW1iZXJzID0gWw0KICAgICAgL9uwL2csDQogICAgICAv27EvZywNCiAgICAgIC/bsi9nLA0KICAgICAgL9uzL2csDQogICAgICAv27QvZywNCiAgICAgIC/btS9nLA0KICAgICAgL9u2L2csDQogICAgICAv27cvZywNCiAgICAgIC/buC9nLA0KICAgICAgL9u5L2csDQogICAgXSwNCiAgICBmaXhOdW1iZXJzID0gZnVuY3Rpb24gKHN0cikgew0KICAgICAgaWYgKHR5cGVvZiBzdHIgPT09ICJzdHJpbmciKSB7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykgew0KICAgICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKHBlcnNpYW5OdW1iZXJzW2ldLCBpKS5yZXBsYWNlKGFyYWJpY051bWJlcnNbaV0sIGkpOw0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gc3RyOw0KICAgIH07DQogIHJldHVybiBmaXhOdW1iZXJzKHN0cik7DQp9Ow0KDQpjb25zdCBjb252ZXJ0SmFsYWxpVG9HcmVnb3JpYW4gPSAoc2hhbXNpRGF0ZSkgPT4gew0KICBsZXQgZ3JEYXRlU3RyID0gamFsYWxpVG9HcmVnb3JpYW4odG9FbmdsaXNoRGlnaXRzKHNoYW1zaURhdGUpKTsNCiAgZ3JEYXRlU3RyID0gdG9FbmdsaXNoRGlnaXRzKGdyRGF0ZVN0cik7DQogIGNvbnN0IGdyRGF0ZSA9IG5ldyBEYXRlKGdyRGF0ZVN0cik7DQogIHJldHVybiBnckRhdGU7DQp9Ow0KDQpjb25zdCBjb252ZXJ0R3JlZ29yaWFuVG9KYWxhbGkgPSAoZ3JEYXRlKSA9PiB7DQogIHJldHVybiBtb21lbnQoZ3JEYXRlKS5mb3JtYXQoImpZWVlZL2pNTS9qREQiKTsNCn07DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIGRhdGVQaWNrZXI6IFZ1ZVBlcnNpYW5EYXRldGltZVBpY2tlciwNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICB2YWx1ZTogeyB0eXBlOiBEYXRlIH0sDQogICAgZW1pdEdyVmFsdWU6IHsgdHlwZTogQm9vbGVhbiB9LA0KICAgIA0KICB9LA0KICBjb21wdXRlZDogew0KICAgIHByVmFsdWUoKSB7DQogICAgICBpZighdGhpcy5lbWl0R3JWYWx1ZSApew0KICAgICAgICAvLyBjb25zdCBwcnZhbCA9ICBjb252ZXJ0R3JlZ29yaWFuVG9KYWxhbGkodGhpcy52YWx1ZSk7DQogICAgICAgIGNvbnN0IHBydmFsMiA9IG1vbWVudCh0aGlzLnZhbHVlLCAiallZWVkvak0vakQiKQ0KICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMudmFsdWUsIHBydmFsMikNCiAgICAgICAgICAgICAgcmV0dXJuIHBydmFsMjsNCiAgICAgIH1lbHNlew0KICAgICAgICAgIGNvbnN0IHBydmFsID0gY29udmVydEdyZWdvcmlhblRvSmFsYWxpKHRoaXMudmFsdWUpOw0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBydmFsKQ0KICAgICAgICAgIHJldHVybiBwcnZhbDsNCiAgICAgIH0NCiAgICAgIA0KICAgICANCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgb25WYWx1ZUNoYW5nZWQoY3VycmVudFZhbHVlKSB7DQogICAgICBjb25zdCBnckRhdGUgPSBjb252ZXJ0SmFsYWxpVG9HcmVnb3JpYW4oY3VycmVudFZhbHVlKTsNCiAgICAgICAgLy9jb25zb2xlLmxvZyhnckRhdGUsIGN1cnJlbnRWYWx1ZSkNCiAgICAgIGlmKHRoaXMuZW1pdEdyVmFsdWUpDQogICAgICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCBnckRhdGUpOw0KICAgICAgZWxzZSB7DQogICAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgY3VycmVudFZhbHVlKTsgDQogICAgICAgIC8vY29uc29sZS5sb2coY3VycmVudFZhbHVlKQ0KICAgICAgICAgIH0gDQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["newGregorianToJalaliConverter.vue"],"names":[],"mappings":";;;;;AAKA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"newGregorianToJalaliConverter.vue","sourceRoot":".","sourcesContent":["<template>\r\n  <date-picker class=\"form-control\" :value=\"prValue\" @input=\"onValueChanged\" ></date-picker>\r\n</template>\r\n\r\n<script>\r\nimport VuePersianDatetimePicker from \"vue-persian-datetime-picker\";\r\nimport moment from \"moment-jalaali\";\r\n\r\nconst jalaliToGregorian = (prdate) =>\r\n  moment(prdate, \"jYYYY/jM/jD\").format(\"YYYY/MM/DD\");\r\n\r\nconst toEnglishDigits = (str) => {\r\n  var persianNumbers = [\r\n      /۰/g,\r\n      /۱/g,\r\n      /۲/g,\r\n      /۳/g,\r\n      /۴/g,\r\n      /۵/g,\r\n      /۶/g, \r\n      /۷/g,\r\n      /۸/g,\r\n      /۹/g,\r\n    ],\r\n    arabicNumbers = [\r\n      /۰/g,\r\n      /۱/g,\r\n      /۲/g,\r\n      /۳/g,\r\n      /۴/g,\r\n      /۵/g,\r\n      /۶/g,\r\n      /۷/g,\r\n      /۸/g,\r\n      /۹/g,\r\n    ],\r\n    fixNumbers = function (str) {\r\n      if (typeof str === \"string\") {\r\n        for (var i = 0; i < 10; i++) {\r\n          str = str.replace(persianNumbers[i], i).replace(arabicNumbers[i], i);\r\n        }\r\n      }\r\n      return str;\r\n    };\r\n  return fixNumbers(str);\r\n};\r\n\r\nconst convertJalaliToGregorian = (shamsiDate) => {\r\n  let grDateStr = jalaliToGregorian(toEnglishDigits(shamsiDate));\r\n  grDateStr = toEnglishDigits(grDateStr);\r\n  const grDate = new Date(grDateStr);\r\n  return grDate;\r\n};\r\n\r\nconst convertGregorianToJalali = (grDate) => {\r\n  return moment(grDate).format(\"jYYYY/jMM/jDD\");\r\n};\r\n\r\nexport default {\r\n  components: {\r\n    datePicker: VuePersianDatetimePicker,\r\n  },\r\n  props: {\r\n    value: { type: Date },\r\n    emitGrValue: { type: Boolean },\r\n    \r\n  },\r\n  computed: {\r\n    prValue() {\r\n      if(!this.emitGrValue ){\r\n        // const prval =  convertGregorianToJalali(this.value);\r\n        const prval2 = moment(this.value, \"jYYYY/jM/jD\")\r\n        //console.log(this.value, prval2)\r\n              return prval2;\r\n      }else{\r\n          const prval = convertGregorianToJalali(this.value);\r\n          // console.log(prval)\r\n          return prval;\r\n      }\r\n      \r\n     \r\n    },\r\n  },\r\n  methods: {\r\n    onValueChanged(currentValue) {\r\n      const grDate = convertJalaliToGregorian(currentValue);\r\n        //console.log(grDate, currentValue)\r\n      if(this.emitGrValue)\r\n          this.$emit(\"input\", grDate);\r\n      else {\r\n        this.$emit(\"input\", currentValue); \r\n        //console.log(currentValue)\r\n          } \r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}